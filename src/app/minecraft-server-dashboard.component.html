<div class="dashboard-container">
  <h2>
    Minecraft Server Dashboard
  </h2>
  <div *ngIf="loading" class="loading">
    <div class="loader"></div>
    <span>Caricamento...</span>
  </div>
  <div *ngIf="error" class="error">{{ error }}</div>
  <div *ngIf="!loading && !error">
    <div class="server-status-row">
      <span class="status-label">Stato server:</span>
      <span class="status-indicator" [ngClass]="serverStatus">
        <span class="dot"></span>
        {{ serverStatus === 'on' ? 'Acceso' : serverStatus === 'off' ? 'Spento' : 'Sconosciuto' }}
      </span>
    </div>
    <div class="motd">{{ motd }}</div>
    <div class="server-info">
      <span>Versione: <b>{{ version }}</b></span>
    </div>
    <div class="actions">
      <button (click)="startServer()" [disabled]="serverStatus === 'on' || loading">
        <span class="material-symbols-rounded">play_arrow</span> Avvia Server
      </button>
      <button (click)="stopServer()" [disabled]="serverStatus === 'off' || loading">
        <span class="material-symbols-rounded">stop</span> Ferma Server
      </button>
      <button class="backup-btn" (click)="launchBackup()" [disabled]="backupInProgress || loading">
        <span class="material-symbols-rounded">cloud_upload</span>
        <span *ngIf="!backupInProgress">Backup</span>
        <span *ngIf="backupInProgress">Backup in corso...</span>
      </button>
    </div>
  </div>
</div>
